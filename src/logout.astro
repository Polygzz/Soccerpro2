---
import { supabaseClient } from '../utils/supabaseClient';
import { clearAuthCookies } from '../utils/auth';

// Handle logout server-side
clearAuthCookies(Astro.cookies);

// Also sign out client-side session
await supabaseClient.auth.signOut();

// Redirect to login page
return Astro.redirect('/login');
---
